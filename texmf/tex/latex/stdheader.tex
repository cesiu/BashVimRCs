% Because I'm too lazy to manage my used packages properly.


% Document Setup:
\usepackage[english]{babel}
\usepackage{fontspec}
\usepackage{lastpage}
\usepackage{epigraph}
% Figures:
\usepackage{caption}
\usepackage{framed}
% Lists and Tables:
\usepackage{mdwlist}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\usepackage{arydshln}
% Algorithms and Code:
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{listings}
\usepackage{cprotect}
% Math:
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{lualatex-math}
% Drawings and Images:
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{color}
% Misc. Text Formatting:
\usepackage{hyperref}
\usepackage{url}
\usepackage{cancel}


\newcommand{\tinyskip}{\vspace{1.5pt plus 0.5pt minus 0.5pt}}
\setlength{\epigraphwidth}{0.5\linewidth}

\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\lstset{
    numbers=left,
    numberstyle=\scriptsize\ttfamily,
    basicstyle=\normalsize\ttfamily,
    upquote=true,
    frame=L,
    escapeinside=``
}
\lstdefinestyle{skippable}{
    numberblanklines=false
}
\lstdefinestyle{output}{
    moredelim = [is][\itshape]{|}{|}
}
\lstdefinestyle{soln}{
    moredelim = [is][\color{red}\itshape]{|}{|}
}
\let\origthelstnumber\thelstnumber
\makeatletter
\newcommand*\SuspendNumber{
    \lst@AddToHook{OnNewLine}{
    \let\thelstnumber\relax
        \advance\c@lstnumber-\@ne\relax
    }
}

\newcommand*\ResumeNumber[1]{
    \setcounter{lstnumber}{\numexpr#1-1\relax}
    \lst@AddToHook{OnNewLine}{
        \let\thelstnumber\origthelstnumber
        \refstepcounter{lstnumber}
    }
}
\makeatother

\theoremstyle{definition}\newtheorem{theorem*}{Theorem}
\theoremstyle{definition}\newtheorem{corollary*}{Corollary}
\DeclareMathOperator{\contradiction}{\rightarrow\leftarrow}
\let\implies\relax
\DeclareMathOperator{\implies}{\rightarrow}
\let\iff\relax
\DeclareMathOperator{\iff}{\leftrightarrow}
\newcommand{\fn}[2]{#1\hspace{-0.1em}\left(#2\right)}

\usetikzlibrary{
    shapes.misc,positioning,
    automata,
    arrows,
    arrows.meta,
    decorations.pathreplacing,
    intersections,
    fit
}

\renewcommand{\algorithmiccomment}[1]{\hspace{2em}// #1}
\algnewcommand\Input{\item[\textbf{Input:}]}
\algnewcommand\Output{\item[\textbf{Output:}]}
\algnewcommand{\Let}[1]{\State{\textbf{let} #1}}
\renewcommand{\algorithmicreturn}[1]{\State{\textbf{return}#1}}
